---
layout: post
title:  "大屏开发经验总结"
categories: Web
tags:  大屏 可视化
author: May
---

* content
{:toc}

### **大屏开发经验总结** 
***
#### **准备工作**  

##### **框架及设计**  

其可视化的web开发和传统网页开发并没有什么本质区别。都是数据+模板。前后端分离什么的，跟传统网页开发也没山么区别。现在流行的是用node作为中间层，数据处理交给java或者其他。（对于体量小的应用，不需要设计这么复杂）

首先根据项目及人员配备情况，选择合适的前端框架，个人觉得用vue效率比较高且跟得上现在的技术。以及确定是否需要使用前后端分离。

在UI设计过程中，最好能及时沟通一些技术细节，避免设计出的效果现有技术不能达到要求或者具有太大的技术难度。最终商量确定折中方案实施。


##### **图表库的选择**  

可视化的关键就是能直观生动的将数据进行展示，对页面的动效要求和图表统计分析比传统网页要多，选择合适的插件非常重要。常用的echarts或highcharts，d3.js，如果要求3d效果，可以采用wegGL技术。

**echarts**  
echarts是百度开源的，底层是canvas。支持很多丰富的图表，官网实例也非常多，兼容性不考虑IE低版本的话是非常不错的选择。4.0版本据说支持千万级别数据量渲染，同时增加了svg引擎包裹。  

**highcharts**  
highcharts底层是svg的，商业使用需要授权。在浏览器兼容性支持上比echarts好，但是实例较少，个人更偏向使用echarts。

**canvas vs svg**  
* canvas依赖于分辨率，而svg不依赖，也就是说浏览器缩放时canvas会变形而svg不会。  
* canvas不支持事件处理，svg支持事件处理。  
* 对于移动端，canvas不太友好，而svg内存占用小  
* 数据量大交互多时，canvas占优势，svg渲染性能较差。

##### **页面布局**  

在开始着手设计页面时，首先得考虑页面以怎样的方式布局，他是一个静态网页，还是一个自适应或者响应式？  

**静态网页**  
所谓静态网页就是采用固定的宽度实现的页面。  

**自适应**  
自适应是为了解决如何才能在不同大小的设备上呈现同样的网页。  

**响应式**  
响应式可以自动识别屏幕宽度，并作出响应调整，布局和展示的内容在不同屏幕下可能不同。众所周知，twitter开源的bootstrap就是一套响应式的UI框架。

在做可视化大屏展示时，根据需求选择使用哪一种网页布局。一般采用静态或者自适应。

#####  **自适应网页的实现**  
1. 允许网页宽度自动调整  
在网页代码的头部，加上viewport meta  
```html
<meta name="viewport" content="width=device-width, initial-scale=1" />  
```  

2. 尽量避免使用绝对宽度  
由于网页会根据屏幕宽度调整布局，所以不能使用绝对宽度的布局，通过指定百分比来替代。  

3. 相对大小的字体  
字体同样不能使用绝对大小(px)，而使用相对大小（em）或高清方案（rem），上面的宽度也可以使用。  

4. 选择性加载css  
自适应网页设计的核心就是css3引入的**Media Query**。  
例子：  
```html
<link rel="stylesheet" type="text/css"  media="screen and (max-device-width: 400px)"  href="tinyScreen.css" />  
```

5. css的@media规则  
同一个css文件中，可以根据不同的屏幕分辨率，选择性的应用不同的css规则。  
```html
@media  screen and (max-device-width: 400px) {  
  
　　　　.column {  
　　　　　　float: none;  
　　　　　　width:auto;  
　　　　}  
  
　　　　#sidebar {  
　　　　　　display:none;  
　　　　}  
  
　　}  
```  

6. 图片的自适应  
除了页面布局和文本需要自适应外，图片也必须实现**自动缩放**。通过css来实现：  
```css
img { max-width: 100%;}  
```  
老版本的IE不支持max-width，可以使用：  
```css
img { width: 100%; }
```

7. flexbox布局  
flexbox布局就是我们经常说的弹性布局。它是css3新增的一种布局模式，可以很方便地用来改善动态或者未知大小的元素的对齐和方向等。  

flex容器的主要特性是她可以调整其子元素的宽度或者高度来填充可用的空白区域，以最优的方式达到兼容大小。使用felx布局需要写一些浏览器的hack，IE低版本（10-）不支持flex布局。









